---
import BaseLayout from "../components/BaseLayout.astro";
import Hero from "../components/Hero.astro";
import ServiceCard from "../components/ServiceCard.astro";
import ProjectCard from "../components/ProjectCard.astro";
import ContactSection from "../components/ContactSection.astro";
import SectionHeader from "../components/SectionHeader.astro";
import { services } from "../data/services";
import { projects } from "../data/projects";
import { Tweet } from '@astro-community/astro-embed-twitter';

const featuredProjects = projects.filter((p) => p.featured);

// Service colors for visual variety
const serviceColors = ["#06b6d4", "#8B5CF6", "#10B981", "#F59E0B"];
---

<BaseLayout>
  <Hero />

  <!-- Services -->
  <section class="py-10 lg:pb-14 bg-app-surface-alt">
    <div class="container mx-auto">
      <SectionHeader 
        title="What I do" 
        subtitle="Consulting and engineering services for modern infrastructure"
      />
      <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6 lg:gap-8">
        {services.map((s, index) => (
          <ServiceCard
            title={s.title}
            icon={s.icon}
            description={s.description}
            skills={s.skills}
            color={serviceColors[index % serviceColors.length]}
          />
        ))}
      </div>
    </div>
  </section>

  <!-- Featured Projects -->
  <section class="py-10 lg:pb-14">
    <div class="container mx-auto">
      <div class="flex flex-col sm:flex-row sm:items-center sm:justify-between mb-8 lg:mb-10">
        <SectionHeader 
          title="Featured projects" 
          subtitle="Open-source tools and systems I've built"
          className="mb-0"
        />
        <a
          href="/projects/"
          class="hidden sm:inline-flex items-center px-4 py-[9px] lg:px-7 lg:py-3 border border-app-gray-200 rounded-[32px] text-sm lg:text-base font-medium text-app-gray-500 hover:border-app-text hover:bg-app-text hover:text-white transition-colors duration-300 tracking-[var(--tracking-tight)]"
        >
          View all
        </a>
      </div>
      <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 lg:gap-8">
        {featuredProjects.map((p) => (
          <ProjectCard
            title={p.title}
            description={p.description}
            image={p.image}
            links={p.links}
            tags={p.tags}
          />
        ))}
      </div>
      <div class="mt-8 text-center sm:hidden">
        <a
          href="/projects/"
          class="inline-flex items-center px-4 py-3 border border-app-gray-200 rounded-[32px] text-sm font-medium text-app-gray-500 hover:border-app-text hover:bg-app-text hover:text-white transition-colors duration-300 tracking-[var(--tracking-tight)]"
        >
          View all projects
        </a>
      </div>
    </div>
  </section>

  <ContactSection />
</BaseLayout>
